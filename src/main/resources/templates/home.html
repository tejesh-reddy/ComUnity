<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title>Home</title>
</head>
<body>
<h1>Hello, <span sec:authentication="principal.username"/></h1>
<hr/>
<br/>

<h1>Your details: </h1>
<h2>Username: <span th:text="${member.username}"/></h2>
<h2>Email: <span th:text="${member.email}"/></h2>
<br/><br/>

<h1>Your posts: </h1>
<div th:each="post : ${posts}">
    <h3 th:text="${post.title}">Title</h3>
    <h5 th:text="${post.content}">Content</h5>
    <h5>Posted at <a th:href="@{'/com/' + ${post.community.name}}">/com/<span th:text="${post.community.name}"/></a></h5>
    <br/><hr/>
</div>

<br><hr/>

<form th:action="@{/com}" method="GET">
    <input type="submit" value="Browse">
</form>
<br/>
<form th:action="@{/logout}" method="POST">
    <input type="submit" value="Logout">
</form>
</body>
</html>
